# 45.跳跃游戏2

难度：mid

代码语言：cpp

题目网址：https://leetcode.cn/problems/jump-game-ii/

## 解法

### 方法一、贪心

如果数组的长度为1，那么最小跳跃次数为0

如果数组的长度大于1，我们维护一个变量reached（初始化为0）表示**当前**能够到达的最远距离，随后从起始位置开始遍历数组，在遍历过程中，外层循环从起始位置到**当前**可到达的最远位置，
内层循环在当前遍历范围内更新**在当前可到达的范围内跳跃一次之后**最远可到达位置。
每次完成位置更新视为一次跳跃，跳跃次数加 1。一旦**更新后**的最远位置达到或超过数组末尾，就返回记录的跳跃次数，以此计算出到达数组最后一个位置所需的最少跳跃次数。

举一个例子，对于数组$`nums = [2, 3, 1, 1, 4]`$

初始化：**当前**能到达的最远距离reached = 0，跳跃次数cnt = 0，进入外层循环(遍历范围：0 ~ reached）

第一次遍历，记录**当前**能到达的最远距离ed = reached = 0，进入内层循环（遍历范围：0 ~ ed），更新**跳跃一次后**可到达的最远距离reached = max(0, 2) = 2，退出内层循环，更新跳跃次数cnt = 1，并判断
**跳跃一次后**可到达的距离是否等于或超过终点，由于2 < 4，因此说明跳跃一次之后不能到达终点，需要接着进行外层循环。

第二次遍历，记录**当前**能到达的最远距离ed = reached = 2，进入内层循环（遍历范围：0 ~ ed），更新**跳跃一次后（实际上是第二次跳跃后）** 可到达的最远距离reached = max(2, 4) = 4，内层循环结束后，更新
跳跃次数cnt = 2，并判断**第二次跳跃后**可到达的距离是否等于或超过终点，由于4 >= 4，因此说明跳跃二次之后可以到达终点，返回结果cnt=2

## 代码

C++

```cpp
class Solution {
public:
    int jump(vector<int>& nums) {
        // 如果数组长度为1，说明已经在最后一个位置，无需跳跃，直接返回0
        if (nums.size() == 1) return 0; 
        // 用于记录跳跃的次数
        int cnt = 0; 
        // 记录当前能够到达的最远位置
        int reached = 0; 
        // 从起始位置开始遍历，直到当前能到达的最远位置
        for (int i = 0; i <= reached; i ++ ) { 
            // 记录当前遍历范围的终点
            int ed = reached; 
            // 在当前遍历范围内，更新跳跃之后能到达的最远位置
            for (int j = i; j <= ed; j ++ ) { 
                // 更新跳跃之后能到达的最远位置
                reached = max(reached, j + nums[j]); 
            }
            // 完成一次跳跃，跳跃次数加1
            cnt ++ ; 
            // 更新当前遍历范围的终点
            ed = max(ed, reached); 
            // 如果当前能到达的最远位置已经到达或超过数组的最后一个位置，返回跳跃次数
            if (ed >= nums.size() - 1) return cnt; 
        }
        // 理论上不会执行到这里，因为一定可以到达最后一个位置
        return 0; 
    }
};
```
